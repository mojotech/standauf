<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="compose-standup.html">

<dom-module id="project-pane">
  <style>
    :host {
      background: #505b9f;
      display: block;
      float: left;
      height: 100%;
      width: 25%;
    }

    li {
      color: white;
      cursor: pointer;
      list-style-type: none;
      margin-bottom: 5px;
    }

    li:first-child {
      color: #a1a7cb;
      text-indent: -22px;
    }

    li:first-child:before {
      background: transparent;
      border: none;
    }

    li:before {
      background: transparent;
      border-radius: 50%;
      border: 2px solid #a1a7cb;
      content: "";
      display: block;
      float: left;
      height: 6px;
      margin-right: 13px;
      margin-top: 9px;
      width: 6px;
    }

    li.active:before {
      background-color: #2ebaee;
      border: none;
      height: 9px;
      width: 9px;
    }
  </style>
  <template>
    <compose-standup></compose-standup>

    <ul>
      <li>Projects</li>
      <template is="dom-repeat" items="{{projects}}">
        <li on-click="activateProject" class$="{{isActive(item.active)}}">[[item.name]]</li>
      </template>
    </ul>
  </template>
  <script>
  (function() {
    Polymer({
      is: 'project-pane',
      activateProject: function(e) {
        var id = e.model.item.id;
        this.projects = this.projects.map(function(p) {
          p.active = (p.id === id);
          return p;
        });
      },
      isActive: function(active) {
        return (active ? 'active' : '');
      },
      properties: {
        projects: {
          type: Array,
          notify: true
        }
      }
    });
  })();
  </script>
</dom-module>
